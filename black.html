<!-- Enhanced Image Viewer with Zoom (keep this version) -->
<div id="image-viewer" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:1000; overflow: auto;">
  <span class="close-viewer" style="position:fixed; top:20px; right:20px; color:white; font-size:30px; cursor:pointer; z-index:1001;" onclick="hideImage()">Ã—</span>
  <div style="display:flex; justify-content:center; align-items:center; min-height:100%;">
    <img id="fullsize-image" style="max-width:90%; max-height:90%; cursor:zoom-in; transition: transform 0.25s ease; border:2px solid hotpink;" 
         onclick="zoomImage(event)">
  </div>
</div>

<script>
// Image viewer with zoom functionality (keep this version)
let isZoomed = false;
const fullsizeImg = document.getElementById('fullsize-image');

function showImage(url) {
  const viewer = document.getElementById('image-viewer');
  viewer.style.display = 'block';
  document.body.style.overflow = 'hidden';
  fullsizeImg.src = url;
  fullsizeImg.style.transform = 'scale(1)';
  isZoomed = false;
  fullsizeImg.style.cursor = 'zoom-in';
}

function hideImage() {
  document.getElementById('image-viewer').style.display = 'none';
  document.body.style.overflow = 'auto';
}

function zoomImage(event) {
  // Prevent click event from bubbling up to the viewer div
  event.stopPropagation();
  
  if (isZoomed) {
    fullsizeImg.style.transform = 'scale(1)';
    fullsizeImg.style.cursor = 'zoom-in';
  } else {
    fullsizeImg.style.transform = 'scale(1.5)';
    fullsizeImg.style.cursor = 'zoom-out';
  }
  isZoomed = !isZoomed;
}

// Click handler for images
document.querySelectorAll('.image-container img').forEach(img => {
  img.addEventListener('click', function() {
    showImage(this.dataset.fullsize);
  });
});

// Close viewer when clicking outside image
document.getElementById('image-viewer').addEventListener('click', function(e) {
  if (e.target === this) {
    hideImage();
  }
});

// Close with ESC key
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    hideImage();
  }
});

// Rest of your existing pagination and other scripts remain unchanged below...
</script>
